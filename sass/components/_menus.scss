/**
 * @file _menus.scss
 * The foundation design for all system menus - ul.menu.
 *** Related asset: styleguide-assets/hmenu.js
 */

/**
* Menus - main menu, footer menu, etc.
*/

// Menus in the Header section
#header { 
  .mobile-bar,
  .desktop-bar {
    display: none;
  }
  .mobile-bar {
    background-color: color($blue, 'main');
    @include grid-span(12,1);
  }
  .desktop-bar {
    @include respond-to("navigation small") {
      display: none !important;
    }
  }
  ul.menu { // Global .menu styles
    width: 100%;
    max-width: 68em;
    padding: 0;
    margin: 0 auto;
    @extend %clearfix;
    @include respond-to("navigation medium") {
      padding: 0 4em;
    }
    @include respond-to("navigation medium padding") {
      padding: 0 2em;
    }
    @include respond-to("navigation small padding") {
      padding: 0em;
    }
    li {
      float: left;
      display: inline-block;
      list-style: none;
      font-family: $trade-bold;
      text-transform: uppercase;
      margin: 0;
      padding: 0;
      @include respond-to("navigation small") {
        width: 100%;
        display: block;
        float: left;
        margin: 0;
        padding: 0;
        border-top: 1px solid rgba($white, 0.10);
        border-bottom: 1px solid rgba($black, 0.15);
        &.first {
          border-top: 0;
        }
        &.last {
          border-bottom: 0;
        }
      }
      &.active {
        border: none;
        background-image: url(../images/icons/icon-active-up.svg);
        background-position: center bottom;
        background-repeat: no-repeat; 
        @include respond-to("navigation small") {
          background-image: none;
        }
        .submenu {
          display: block;
        }
        span {
          color: color($blue, 'bright');

          &:hover {
            color: color($blue, 'main');
          }
          &:after {
            display: inline-block;
            speak: none;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            text-transform: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            content: image-url('../images/icons/icon-dropup.svg'); 
            width: 15px; 
            height: 24px;        
            vertical-align: middle;
            color: color($blue, dark);
          }
        }
      }
      span,
      a {
        color: color($blue, 'main');
        text-decoration: none;
        letter-spacing: .05em;
        font-size: 1em;
        padding: 1em 1.2em;
        display: block;
        cursor: pointer;
        transition: color 0.15s ease-in-out;
        @include respond-to("navigation medium") {
          padding: 1em .8em;
          margin-right: 0;
          font-size: .9em;
        }
        @include respond-to("navigation small") {
          font-size: 1.2em;
          padding: 1.5em 3em 1em;
        }
        &:hover {
          color: color($blue, 'bright');
        }
      }
      span {
        &:after {
          display: inline-block;
          speak: none;
          font-style: normal;
          font-weight: normal;
          font-variant: normal;
          text-transform: none;
          line-height: 1;
          -webkit-font-smoothing: antialiased;
          content: image-url('icons/icon-dropdown.svg'); 
          width: 15px; 
          height: 24px;        
          margin-left: 0.3em;
          vertical-align: middle;
          color: color($blue, dark);
        }
      }
      // 2nd level
      .submenu {
        display: none;
        background-color: color($blue, dark);
        width: 100%;
        position: absolute;
        left: 0;
        @include respond-to("navigation small") {
          position: relative;
          padding: 0;
          margin: 0;
          background-color: rgba(#001e54, 0.85);
        }
        ul.menu {
          margin: 0 auto;
          padding:0;
          list-style-type: none; 
          position: relative;
          width: 100%;
          max-width: 68em;
          @extend %clearfix;
          @include respond-to("navigation small") {
            padding: .8em 0;
          }
          li { 
            @include respond-to("navigation small") {
              width: 100%;
              display: block;
              float: left;
              margin: 0;
              padding: 0;
              border-bottom: none;
              border-top: none;
            }
            a {
              color: color($blue, 'highlight');
              text-transform: none;
              font-family: $trade-reg;
              font-size: 1em;
              line-height: 1.4em;
              letter-spacing: 0;
              @include respond-to("navigation small") {
                @include border-radius(0);
                padding: 1em 3.5em;
              }
              &:hover {
                color: $white;
                background-color: transparent;
              }
              &.active {
                color: color($blue, 'main', 20%);
                &:hover {
                  color: color($blue, 'main', 20%);
                }
              }
            }
          }
        }     
      }         
    }
  }


  .navigation {   
    position: relative;
    display: block;
    z-index: 2;
    background-color: rgba($white, 0.85);
    @include respond-to("navigation small") {
      background-color: transparent;
    }
    &.menu-block-1 { // for main header template - navigation spacing JT
      margin: 0 auto 4.5em;
      @include respond-to("navigation full") {
        margin-top: 18em;
      }
      @include respond-to("navigation medium") {
        margin-top: 13em;
      }    
      @include respond-to("navigation small") {
        margin: 0;
        padding: 0;
        float: left;
        display: none;
      }      
    }
    &.menu-block-2 { // for header-subpage template - main nav truncated -JT
      background-color: color($green, main);
      width: 100%;
      margin: 0 auto;
      @include respond-to("navigation small") {
      }
      ul.menu {
        @include respond-to("navigation small") {
          padding: 0;
        }
        li {
          border-bottom: 1px solid color($green,dark);
          span {
            &:after {
              content: image-url('../images/icons/icon-dropdown-green.svg'); 
            }
          }
          &.active {
            a,
            span {
              color: rgba($white, .5);            
            }
            span {
              &:after {
                content: image-url('../images/icons/icon-dropup-green.svg'); 
              }
            }
          }
        }
        span,
        a {
          color: rgba($white, 0.75);
          letter-spacing: .05em;
          font-size: 1em;
          text-transform: none;
          &:hover {
            color: rgba($white, 1);
          }
          @include respond-to("navigation small") {
            padding: 1em 1.5em;
          }  
        }
      }      
      @include respond-to("navigation small") {
        margin: 0;
        padding: 0;
        float: left;
        position: relative;
      } 
      .submenu {
        background-color: color($green,dark);
        ul.menu {
          @include respond-to("navigation small") {
            padding: .7em 0;
          }
          li {
            a {
              font-size: 1em;
            }
            a, 
            span {
              @include respond-to("navigation small") {
                padding: 1em 2em;
              }  
            }
          }
        }
      }       
    } 
    &.menu-block-3 { // for header-subpage template - JT
      @include respond-to("navigation full") {
        margin-top: 3em;   
        margin-bottom: 4.5em;
      }
      @include respond-to("navigation medium") {
        margin-top: 2.5em;
        margin-bottom: 4.5em;        
      }     
      @include respond-to("navigation small") {
        margin-top: 0;
        margin-bottom: 0;
        ul.menu {
          padding: 0;
          margin: 0;
          li {
            border-top: 0px;
            border-bottom: 1px solid #222;
            list-style: none;
            .submenu {
              ul.menu {
                padding: 0;
                li {
                  a {
                    padding: 1em 2em;
                    &:hover {
                      background-color: $white;
                      color: color($blue);
                    }
                  }
                }
              }
            }
            a,
            span {
              background-color: $white;
              border: none;
              color: color($blue);
              display: block;
              margin: 0;
              padding: 1em 1.5em;
              text-decoration: none;
              font-family: $trade-bold;
              text-transform: uppercase;
              font-size: 1em;  
              &:hover, &:focus {
              color: color($blue,bright);
              }
              &:active {
              color: color($blue,bright);
              }
            }
          }
        }
      }
    }    
    &.menu-block-4 { // for desktop menu only - main nav toggle from top -JT
      background-color: color($green, main);
      width: 100%;
      margin: 0 auto;
      ul.desktop-menu, ul.tabbed {
        @include respond-to("navigation small") {
          padding: 1em 0;
        }
        li {
          &.active {
            background-image: url(../images/icons/icon-active-up-green.svg);
            a,
            span {
              color: color($green,dark);            
            }
            span {
              &:after {
                content: image-url('../images/icons/icon-dropup-green.svg'); 
              }
            } 
          }
          span {
            &:after {
              content: image-url('../images/icons/icon-dropdown-green.svg'); 
            }
          }
        }
        span, a {
          color: color($tan,bright);            
          letter-spacing: .05em;
          font-size: .85em;
          text-transform: uppercase;
          &:hover {
            color: color($green,bright);            
          }
          @include respond-to("navigation small") {
            padding: 1em 1.5em;
          }  
        }
      }      
      @include respond-to("navigation small") {
        margin: 0;
        padding: 0;
        float: left;
        position: relative;
      } 
    }               
    &.menu-block-5 { // Student Menu Block - Icon-based user menu
      width: 100%;
      float: left;      
      @include respond-to("navigation full") {
        margin-top: 6em;
        margin-bottom: 4.5em;        
      }
      @include respond-to("navigation medium") {
        margin-top: 4em;
        margin-bottom: 4.5em;        
      }   
      @include respond-to("navigation small") { // Mobile menu styles collapsed into toggle
        margin-top: 0;
        margin-bottom: 0;
        ul.menu {
          padding: 0;
          margin: 0;
          li {
            list-style: none;
            background-color: $white;
            color: color($blue);
            border-top: 0px;
            border-bottom: 1px solid #222;
            list-style: none;                  
            .submenu {
              ul.menu {
                padding: 0;
                li {  
                  border: none;
                  a {
                    padding: 1em 2em;
                    &:hover {
                      background-color: $white;
                      color: color($blue);
                    }
                  }
                }
              }
            }
            a,
            span {
              background-color: $white;
              border: none;
              color: color($blue);
              display: block;
              margin: 0;
              padding: 1em 1.5em;
              text-decoration: none;
              font-family: $trade-bold;
              text-transform: uppercase;
              font-size: 1em;  
              &:hover, &:focus {
              color: color($blue,bright);
              }
              &:active {
              color: color($blue,bright);
              }
            }
          }
        }
      }     
      ul { // Desktop menu styles
        li {
          &.item-1 { // Blue icons, and other basic styles that cascade down to mobile.
            span,
            a {
              &:before {
                content: image-url('../images/icons/icon-learn-blue-small.svg');        
                vertical-align: middle;
                padding-right: .5em;
                display: inline-block;
                transition: content 0.4s ease-in-out;
              }
            }
          }
          &.item-2 {
            span,
            a {
              &:before {
                content: image-url('../images/icons/icon-cms-blue-small.svg');        
                vertical-align: middle;
                padding-right: .5em;
                display: inline-block;
                transition: content 0.4s ease-in-out;
              }
            }
          }
          &.item-3 {
            span,
            a {
              &:before {
                content: image-url('../images/icons/icon-email-blue-small.svg');        
                vertical-align: middle;
                padding-right: .5em;
                display: inline-block;
                transition: content 0.4s ease-in-out;
              }
            }
          }
          &.item-4 {
            span,
            a {
              &:before {
                content: image-url('../images/icons/icon-calendar-blue-small.svg');        
                vertical-align: middle;
                padding-right: .5em;
                display: inline-block;
                transition: content 0.4s ease-in-out;
              }
            }
          }
          &.item-5 {
            span,
            a {
              &:before {
                content: image-url('../images/icons/icon-mybookmarks-blue-small.svg');        
                vertical-align: middle;
                padding-right: .5em;
                display: inline-block;
                transition: content 0.4s ease-in-out;
              }
            }
          }
          &.item-6 {
            span,
            a {
              &:before {
                content: image-url('../images/icons/icon-housing-blue-small.svg');        
                vertical-align: middle;
                padding-right: .5em;
                display: inline-block;
                transition: content 0.4s ease-in-out;
              }
            }
          }          
        }
      }
    } 
  }
  .desktop-bar {
    .panels {
      width: 100%;
      float: left;
      position: relative;
      background-color: color($green,dark);
      border-top: 4px solid color($green,dark);
      .panel {
        display: none;
        ul {
          width: 100%;
          float: left;
          padding: 0;
          margin: 0;
          li {
            list-style-type: none;
            float: left;
            display: inline;
            position: relative;
            list-style: none;
            font-family: $trade-reg;
            line-height: 1.4em;    
            padding: 0;
            margin: 0;       
            a {
              display: block;
              width:100%;
              padding: 1em 1em;
              text-decoration: none;
              transition: all 0.15s ease-in-out;
              color: #96C49B;
              &:hover {
                color: $white;
              }
            }
          }
        }
      }      
    }      
  }  
  // Department Menu 
  .navigation-wrap {
    &.department,// Department Landing section
    &.student { // Student Dashboard section
      @include grid-span(12, 1);
      @include respond-to("navigation small") {
        display: none;
      }
    }
  }   
}

// Sidebar Menu
#main {
  .toggles { 
    &.sidebar-menu { // sidebar subsection menu toggles
      @include grid-span(12, 1);
      display: none;
      border-bottom: 1px solid rgba($white, 0.3);
      @include respond-to("navigation small") {
        display: block;
      }    
      li {
        width: 100%;
        a {
          color: $white;
          background-color: color($blue, 'main');
          padding: 1em 1.5em;
          text-align: left;
          &:hover {
            background-color: color($blue, 'dark');
            color: $white;
          }          
          &.active {
            background-color: color($blue, 'dark');
            color: $white;
          } 
          &.pull-sidebar {
            color: $white;
            span {
              &:before {
                content: image-url('../images/icons/icon-menu-white-small.svg');        
                vertical-align: middle;
                padding-right: 1em;
                display: inline-block;
                transition: content 0.4s ease-in-out;
              }
            }
            &.active {
              span {
                &:before {
                  content: image-url('../images/icons/icon-cancel-white-small.svg');        
                  vertical-align: middle;
                  padding-right:1em;
                  display: inline-block;
                  transition: content 0.4s ease-in-out;
                }
              }              
            }
          } 
        }
      }
    } 
  }
}
